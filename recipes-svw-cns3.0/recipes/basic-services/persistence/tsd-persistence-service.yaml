inherit: [buildenv]

metaEnvironment:
   PKG_RESPONSIBLE: "System-Basisfunktion"

depends:
  - system::tsd-common-dev
  - basic-services::persistence::tsd-persistence-api-dev

checkoutSCM:
   scm: git
   url: git@${DEFAULT_PCC_GIT_SERVER}:mib3-system/tsd.persistence.service.git
   dir: tsd.persistence.service
   tag: 2.1.0
   branch: master_mqb_sop1_eu

multiPackage:
   dev:
      buildVars: [TSD_PERSISTENCE_EMMC]
      buildScript: |
         buildenvBuildAll -DTSD_PERSISTENCE_EMMC=${TSD_PERSISTENCE_EMMC:-0}
      packageScript: |
         buildenvPackageDev install

   doc:
      buildVars: [TSD_PERSISTENCE_EMMC]
      buildTools: [doxygen, dot]
      buildScript: |
         buildenvBuildDocAll -DTSD_PERSISTENCE_EMMC=${TSD_PERSISTENCE_EMMC:-0}
      packageScript: buildenvPackageDoc
